<div class="history-page">
  <div class="app-container">
    <h2 class="page-title">Order History</h2>

    <div class="empty" *ngIf="!orders || orders.length === 0">
      <mat-card class="empty-card">
        <h3>No past orders yet</h3>
        <p>Place your first order from the menu.</p>
      </mat-card>
    </div>

    <div class="orders" *ngIf="orders && orders.length > 0">
      <mat-card class="order" *ngFor="let order of orders">
        <div class="order-header">
          <div>
            <div class="order-id">#{{ order.id }}</div>
            <div class="date">{{ (order.placedAt || order.date) | date:'dd MMM yyyy, h:mm a' }}</div>
          </div>
          <div class="total">₹ {{ getFinalTotal(order) }}</div>
        </div>

        <div class="items">
          <div class="item" *ngFor="let item of order.items">
            <div class="name">{{ item.menuItemName || item.MenuItemName }}</div>
            <div class="qty">× {{ item.quantity || item.Quantity }}</div>
          </div>
        </div>

        <div class="meta">
          <span class="status">{{ order.status }}</span>
        </div>
      </mat-card>
    </div>
  </div>
</div>