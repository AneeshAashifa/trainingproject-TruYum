<div class="menu-background">
  <div class="app-container">
    <h2 style="text-align:center;margin-bottom:22px;color:#2e2e3a">üçΩ Our Menu</h2>
    
    <!-- Search & Filters -->
  <div class="search-filter-bar">
    <div class="search-box">
      <mat-icon class="search-icon">search</mat-icon>
      <input
      type="text"
      [(ngModel)]="searchTerm"
      placeholder="Search by name, category, description"
      />
    </div>
    <button mat-flat-button color="primary" (click)="showFavouritesOnly = !showFavouritesOnly">
      <mat-icon>{{ showFavouritesOnly ? 'favorite' : 'favorite_border' }}</mat-icon>
      {{ showFavouritesOnly ? 'Show All' : 'Favourites' }}
    </button>
  </div>
    <div class="menu-grid">
      <mat-card class="menu-card mat-elevation-z2" *ngFor="let item of filteredMenu">
        <div style="padding:0">
          <div class="item-grid" style="padding:20px;">
            <img class="thumb" [src]="item.imageUrl || 'assets/images/default-food.jpg'" alt="{{item.name}}">
          </div>
        </div>

        <mat-card-content>
          <h3 style="margin:8px 0 4px">{{ item.name }}</h3>
          <div style="display:flex;align-items:center;gap:12px;margin-bottom:8px">
            <div style="font-weight:700;color:var(--primary)">‚Çπ{{ item.price }}</div>
            <div class="emoji-chip" [ngClass]="item.veg ? 'veg' : 'non-veg'" [title]="item.veg ? 'Veg' : 'Non Veg'">
              {{ item.veg ? 'üü¢ Veg' : 'üî¥ Non-Veg' }}
            </div>
            <div class="emoji-chip" style="background:transparent;border:1px solid rgba(0,0,0,0.06)">
              {{ item.category }}
            </div>
          </div>
          <p style="color:var(--muted);margin:0 0 12px">{{ item.description }}</p>

          <div style="display:flex;align-items:center;justify-content:space-between;margin-top:12px">
            <div>
              <button mat-icon-button (click)="toggleFavourite(item)">
                <mat-icon [color]="favourites.has(item.id) ? 'warn' : ''">
                  {{ favourites.has(item.id) ? 'favorite' : 'favorite_border' }}
                </mat-icon>
              </button>
            </div>

            <div style="display:flex;gap:12px;align-items:center;">
              <button mat-stroked-button color="primary" class="add-cart" (click)="addToCart(item)">
                <mat-icon>shopping_cart</mat-icon> Add 
              </button>
            </div>
          </div>
        </mat-card-content>
      </mat-card>
    </div>
  </div>
</div>