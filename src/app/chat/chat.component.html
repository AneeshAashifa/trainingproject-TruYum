<div class="chatbot-container">
  <button class="chat-toggle" (click)="toggleChat()" [class.open]="isOpen">
    <span class="chat-icon" *ngIf="!isOpen">ğŸ’¬</span>
    <span class="close-icon" *ngIf="isOpen">âœ–</span>
  </button>

  <div class="chat-window" *ngIf="isOpen" [@slideInOut]>
    <div class="chat-header">
      <div class="header-content">
        <div class="bot-avatar">ğŸ½ï¸</div>
        <div class="header-text">
          <h3>TruYum Assistant</h3>
          <p>How can I help you today?</p>
        </div>
      </div>
      <button class="close-btn" (click)="toggleChat()">
        <span>âœ–</span>
      </button>
    </div>

    <div class="chat-body">
      <div class="welcome-message" *ngIf="messages.length === 0">
        <div class="welcome-content">
          <div class="welcome-icon">ğŸ‘‹</div>
          <h4>Welcome to TruYum!</h4>
          <p>I'm here to help you with your food orders, menu questions, and any assistance you need.</p>
        </div>
      </div>
      
      <div class="messages-container">
        <div *ngFor="let msg of messages" class="message-wrapper">
          <div [ngClass]="{'user-msg': msg.sender === 'You', 'bot-msg': msg.sender === 'Bot'}">
            <div class="message-avatar" *ngIf="msg.sender === 'Bot'">ğŸ¤–</div>
            <div class="message-content">
              <div class="message-text">{{ msg.text }}</div>
              <div class="message-time">{{ getCurrentTime() }}</div>
            </div>
            <div class="message-avatar" *ngIf="msg.sender === 'You'">ğŸ‘¤</div>
          </div>
        </div>
      </div>
    </div>

    <div class="chat-footer">
      <div class="input-container">
        <input 
          [(ngModel)]="userInput" 
          (keyup.enter)="sendMessage()" 
          placeholder="Ask about our menu, orders, or anything else..." 
          class="message-input"
        />
        <button class="send-btn" (click)="sendMessage()" [disabled]="!userInput.trim()">
          <span>Send</span>
          <span class="send-icon">ğŸ“¤</span>
        </button>
      </div>
    </div>
  </div>
</div>