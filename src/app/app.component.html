<div class="app-background">
  <mat-toolbar color="primary" class="mat-elevation-z4" style="padding:0 16px;">
    <div class="app-container" style="display:flex;align-items:center;gap:24px;">

      <!-- Brand -->
      <div style="display:flex;align-items:center;gap:12px;">
        <a routerLink="/" style="display:flex;align-items:center;text-decoration:none;color:rgb(30, 30, 139)">
          <span style="font-weight:700;font-size:30px;">TruYum</span>
        </a>
      </div>

      <!-- Main Navigation -->
      <nav style="display:flex; gap:14px; margin-left:24px;">
        <a mat-button routerLink="/menu" style="color:rgb(30, 30, 139)">
          <mat-icon>restaurant_menu</mat-icon> Menu
        </a>
        <a mat-button routerLink="/cart" style="color:rgb(30, 30, 139)">
          <mat-icon>shopping_cart</mat-icon> Cart
        </a>
      </nav>

      <span style="flex:1 1 auto"></span>

      <!-- Auth / Admin Section -->
      <div style="display:flex;gap:12px;align-items:center;">
        
        <!-- Show when NOT logged in -->
        <ng-container *ngIf="!isLoggedIn">
          <a mat-button routerLink="/register" style="color:rgb(30, 30, 139)">
            <mat-icon>person_add</mat-icon> Sign Up
          </a>
          <a mat-button routerLink="/user-login" style="color:rgb(30, 30, 139)">
            <mat-icon>login</mat-icon> Sign In
          </a>
        </ng-container>

        <!-- Show when logged in -->
        <ng-container *ngIf="isLoggedIn">
          <span style="font-weight:500;color:rgb(30,30,139)">
            ðŸ‘‹ Hi, {{ role === 'Admin' ? 'Admin' : username }}
          </span>
          <button mat-button (click)="logout()" style="color:rgb(30, 30, 139)">
            <mat-icon>account_circle</mat-icon> Logout
          </button>
        </ng-container>

        <!-- Always visible: Admin Login -->
        <a mat-button routerLink="/admin-login" style="color:rgb(30, 30, 139)">
          <mat-icon>admin_panel_settings</mat-icon> Admin
        </a>
      </div>
    </div>
  </mat-toolbar>

  <router-outlet></router-outlet>
  <app-chat></app-chat>

</div>